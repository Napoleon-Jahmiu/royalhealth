<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" media="screen and (max-width: 768px) " href="css/mobile.css">
    <link rel="stylesheet" href="font/css/all.css">
    <link rel="stylesheet" href="font/css/all.min.css">
    <link rel="stylesheet" href="font/css/fontawesome.min.css">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <title>Royal-Health | Payment</title>
</head>

<body>
 <nav>
        <div id="navbar">
        <!-- <div class="navbar-content"> -->
            <div class="logo"> <img src="./img/aloe vera.jpg" alt=""> <h1>STAY+SAFE</h1></div>

            <div class="social">
                <!-- <a href=""><i class="fab fa-facebook fa-2x"></i></a> -->
                <a href="https://wa.me/2347087665232?text=Hello%20Natural%20Health%20I%20am%20interested%20in%20your%20ebook.%20My%20Name%20is%20__%20"><i class="fab fa-whatsapp fa-2x"></i></a>
            </div>
            
            <div class="navv">
                <ul>
                <li><a .btn href="index.html#welcome">Welcome</a></li>
                <li><a .btn href="index.html#learn">Module</a></li>
                <li><a .btn href="index.html#testimonial">Connect</a></li>
                </ul>
            </div>
        </div>
        <!-- </div> -->
    </nav>
    
<section id="payment">
    <div class="advert"><img src="./img/save.png" alt=""></div>

    <div class="payments">

        <div class="pay">
        <h3><span class="amount">Pay with Flutter</span></h3>

        <div><img src="./img/rave.png" alt="Flutter Payment"></div>
        <form>
            <script src="https://api.ravepay.co/flwv3-pug/getpaidx/api/flwpbf-inline.js"></script>
            <button type="button" onClick="payWithRave()">Pay Now</button>
        </form>
        </div>    
        

        <div class="pay">
            <h3><span class="amount">Pay with PayStack</span></h3>
    
            <div><img src="./img/paymentgate.png" alt="Paystack Payment"></div>
        <form>
            <script src="https://js.paystack.co/v1/inline.js"></script>
            <button type="button" onclick="payWithPaystack()"> Pay Now</button> 
        </form>
        </div>
        
    </div>

</section>


<script>
    const API_publicKey = "FLWPUBK-527710ff2b03df016c454c9eae44082c-X";

    function payWithRave() {
        var x = getpaidSetup({
            PBFPubKey: API_publicKey,
            customer_email: "user@example.com",
            amount: 2000,
            customer_phone: "234099940409",
            currency: "NGN",
            txref: "rave-123456",
            meta: [{
                metaname: "flightID",
                metavalue: "AP1234"
            }],
            onclose: function() {},
            callback: function(response) {
                var txref = response.data.txRef; // collect txRef returned and pass to a 					server page to complete status check.
                console.log("This is the response returned after a charge", response);
                if (
                    response.data.chargeResponseCode == "00" ||
                    response.data.chargeResponseCode == "0"
                ) {
                    // redirect to a success page
                } else {
                    // redirect to a failure page.
                }

                x.close(); // use this to close the modal immediately after payment.
            }
        });
    }
</script>

<script>
    function payWithPaystack(){
      var handler = PaystackPop.setup({
        key: 'pk_test_86d32aa1nV4l1da7120ce530f0b221c3cb97cbcc',
        email: 'customer@email.com',
        amount: 10000,
        currency: "NGN",
        ref: ''+Math.floor((Math.random() * 1000000000) + 1), // generates a pseudo-unique reference. Please replace with a reference you generated. Or remove the line entirely so our API will generate one for you
        metadata: {
           custom_fields: [
              {
                  display_name: "Mobile Number",
                  variable_name: "mobile_number",
                  value: "+2348012345678"
              }
           ]
        },
        callback: function(response){
            alert('success. transaction ref is ' + response.reference);
        },
        onClose: function(){
            alert('window closed');
        }
      });
      handler.openIframe();
    }
  </script>

<footer class="footer">
    <p>Copyright &copy; Royal-Health 2019. All Rights Reserved.</p>
</footer>

</body>
</html>